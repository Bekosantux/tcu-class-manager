# 履修管理システム

## プロジェクト概要
- **名前**: 履修管理システム (Course Management System)
- **目標**: 大学生の履修登録を支援し、時間割管理と成績管理を一元化する
- **主な機能**: 時間割表示、個人設定、履修登録支援、成績照会

## URLs
- **開発環境**: https://3000-ih83tnuyh7vfusdumgpnl-6532622b.e2b.dev
- **本番環境**: (未デプロイ)

## 現在実装済みの機能

### 1. 時間割表示機能 ✅
- 4学期制（クォーター制）対応の時間割表示
- 月曜日〜土曜日、1〜5限の標準時間割グリッド
- 集中講義の別枠表示
- クォーター切り替え機能（Q1〜Q4）
- 講義詳細のポップアップ表示

### 2. 個人設定機能 ✅
- 学部・学科の選択（全8学部対応）
- 入学年度の設定
- 成績表示形式の切り替え（日本式/アルファベット式）
- 設定の保存とスキップ機能

### 3. ナビゲーション機能 ✅
- 格納式ハンバーガーメニュー
- スムーズな画面遷移
- レスポンシブデザイン対応

### 4. データベース設計 ✅
- ユーザー設定テーブル
- 講義情報テーブル
- 講義スケジュールテーブル
- 履修登録テーブル
- テストデータの投入済み

## 機能エントリーポイント

### API エンドポイント
- `GET /api/settings` - ユーザー設定の取得
- `POST /api/settings` - ユーザー設定の保存
- `GET /api/timetable?quarter={Q1|Q2|Q3|Q4}` - 時間割データの取得
- `GET /api/courses?department={学科名}&year={学年}` - 講義一覧の取得
- `POST /api/registrations` - 履修登録
- `DELETE /api/registrations/:id` - 履修取消

### 画面遷移
- `/` - メイン画面（時間割表示）
- 時間割表示 - ハンバーガーメニューから遷移
- 個人設定 - ハンバーガーメニューから遷移
- 履修登録 - ハンバーガーメニューから遷移（開発中）
- 成績照会 - ハンバーガーメニューから遷移（開発中）

## 未実装の機能

### 1. 履修登録機能
- 講義検索・フィルタリング
- 必修科目の優先表示
- 単位数上限チェック（2期24単位）
- 時間割の重複チェック
- 履修条件の確認

### 2. 成績照会機能
- 成績評価の記録
- GPAの計算
- 取得単位数の集計
- 卒業要件の進捗表示
- 成績評価と残り単位数のタブ切り替え

### 3. 講義データ管理
- PDFからの自動データ読み取り
- 手動での講義情報登録
- 講義情報の編集・削除

## 推奨される次の開発ステップ

1. **履修登録機能の実装**
   - 講義一覧画面の作成
   - 検索・フィルタリング機能
   - ドラッグ&ドロップでの履修登録
   - 単位数チェック機能

2. **成績管理機能の実装**
   - 成績入力画面
   - GPA計算ロジック
   - 進級・卒業要件チェック

3. **講義データ管理機能**
   - 講義情報のCRUD操作
   - CSVインポート機能
   - PDFパース機能（仮実装）

4. **ユーザビリティの向上**
   - ローディング表示
   - エラーハンドリングの強化
   - データの永続化（ローカルストレージ）

## データアーキテクチャ
- **データモデル**: 
  - ユーザー設定（学部、学科、入学年度、要件）
  - 講義情報（科目コード、名称、単位数、開講情報）
  - 履修登録（ユーザーと講義の関連、成績）
- **ストレージサービス**: Cloudflare D1（SQLiteベース）
- **データフロー**: フロントエンド → Hono API → D1 Database

## 使い方

### 初回利用時
1. サイトにアクセスすると個人設定画面が表示されます
2. 学部・学科・入学年度を選択して保存
3. 時間割画面に自動遷移

### 時間割の確認
1. 上部のドロップダウンでクォーターを選択
2. 時間割グリッドで講義を確認
3. 講義をクリックして詳細を表示

### ナビゲーション
- 左上のハンバーガーメニューから各機能へアクセス

## デプロイメント
- **プラットフォーム**: Cloudflare Pages
- **ステータス**: ❌ 未デプロイ
- **技術スタック**: Hono + TypeScript + Cloudflare D1 + TailwindCSS
- **最終更新**: 2025-09-05

## 開発コマンド
```bash
# 開発サーバーの起動
npm run dev:sandbox

# ビルド
npm run build

# データベースマイグレーション
npm run db:migrate:local

# テストデータ投入
npm run db:seed

# 本番デプロイ
npm run deploy
```